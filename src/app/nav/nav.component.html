<div>
  <mat-sidenav-container class="sidenav-container">

    <mat-sidenav [ngClass]="{'displaynone' : (!this.c.isLogged())}" #drawer class="sidenav" fixedInViewport="false"
                 [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
                 [mode]="(isHandset$ | async) ? 'over' : 'side'"
                 [opened]="(isHandset$ | async) === false">
      <mat-toolbar>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="mr-3 bi bi-sliders"
             viewBox="0 0 16 16">
          <path fill-rule="evenodd"
                d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"/>
        </svg>
        Menu
      </mat-toolbar>
      <div>
        <div class="dropdown-divider"></div>
        <mat-nav-list>
          <mat-card *ngIf="this.c.isLogged() && this.user" class="example-card">
            <mat-card-header>
              <img src="/assets/images/logoSlag.png" mat-card-avatar class="example-header-image">
              <mat-card-title>{{this.user.nom.toUpperCase().substr(0,1)}}. {{this.user.prenom}}</mat-card-title>
              <mat-card-subtitle>{{this.user.grade}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-subtitle class="small">Depuis le {{this.user.dateEntree}}</mat-card-subtitle>
          </mat-card>

          <div class="dropdown-divider mt-3 mb-3"></div>
          <!-------------------------------------------------DEBUT ----------------------------------------------------------------------------------------->
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <div
                    matBadge={{notificationsConges}} matBadgePosition="after" [matBadgeHidden]="this.notificationsConges==0" matBadgeSize="small"
                    matBadgeColor="accent" class="mt-2">
                    Congés
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-calendar2-check" viewBox="0 0 16 16">
                      <path
                        d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                      <path
                        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"/>
                      <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"/>
                    </svg>
                  </div>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <a *ngIf="this.c.isSuperAdmin() && this.c.isLogged()" class="dropdown-item" href="conges-en-attente">
                <div  matBadge={{notificationsConges}} matBadgeColor="accent" matBadgeSize="small" matBadgePosition="before">Congés en
                  attente
                </div>
              </a>
              <a class="dropdown-item" href="visualisation-conges">Visualisation Congés</a>
            </mat-expansion-panel>
          </mat-accordion>
<!--          -------------------------------------------------CRA USERS----------------------------------------------------------->
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <div>
                    Cra
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-calendar2-check" viewBox="0 0 16 16">
                      <path
                        d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                      <path
                        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"/>
                      <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"/>
                    </svg>
                  </div>
                </mat-panel-title>
              </mat-expansion-panel-header>

              <a class="dropdown-item" href="compte-rendu-activite">Compte rendu d'activité</a>
              <a class="dropdown-item" href="calendar">Calendrier</a>
            </mat-expansion-panel>
          </mat-accordion>

<!--          ------------------------------------------------- FIN CRA ---------------------------------------------------->
          <!--          -------------------------------------------------CRA ADMINISTRATION----------------------------------------------------------->
          <mat-accordion *ngIf="this.c.isSuperAdmin()">
            <mat-expansion-panel  >
              <mat-expansion-panel-header >
                <mat-panel-title>
                  <div
                    matBadge={{notificationsCraWait}} matBadgePosition="after" [matBadgeHidden]="this.notificationsCraWait==0" matBadgeSize="small"
                    matBadgeColor="accent" class="mt-2">
                    Administration
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-calendar2-check" viewBox="0 0 16 16">
                      <path
                        d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                      <path
                        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"/>
                      <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"/>
                    </svg>
                  </div>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <a *ngIf="this.c.isSuperAdmin() && this.c.isLogged()" class="dropdown-item" href="administration-cra">Compte rendu d'activité</a>
              <a *ngIf="this.c.isSuperAdmin() && this.c.isLogged()" class="dropdown-item" href="administration-projet">Gestion des projets</a>
            </mat-expansion-panel>
          </mat-accordion>
          <!--          ------------------------------------------------- FIN CRA ---------------------------------------------------->
          <!-------------------------------------------------FIN ----------------------------------------------------------------------------------------->
          <mat-accordion *ngIf="this.c.isSuperAdmin() && this.c.isLogged()">
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Factures
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="m-1"
                       viewBox="0 0 16 16">
                    <path
                      d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                    <path
                      d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
                  </svg>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <a class="dropdown-item" href="/visualisation">Visualisation</a>
              <a class="dropdown-item" href="/ajouter">Ajout</a>
            </mat-expansion-panel>
          </mat-accordion>
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Paramètres
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="m-1"
                       viewBox="0 0 16 16">
                    <path
                      d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"/>
                  </svg>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <a *ngIf="this.c.isSuperAdmin() && this.c.isLogged()" class="dropdown-item" href="utilisateurs">Utilisateurs</a>
              <a class="dropdown-item" href="mon-compte">Mon compte</a>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="dropdown-divider mt-3 "></div>
          <mat-list-item (click)="this.c.Logout()" class="btn border-secondary bg-transparent">Deconnexion
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="ml-1" viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                    d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
              <path fill-rule="evenodd"
                    d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
            </svg>
          </mat-list-item>


        </mat-nav-list>
      </div>
    </mat-sidenav>


    <mat-sidenav-content>
      <mat-toolbar *ngIf="this.c.isLogged()" class="perso-bg">

        <button
          type="button"
          aria-label="Toggle sidenav"
          mat-icon-button
          (click)="drawer.toggle()"
          *ngIf="isHandset$ | async">
          <svg xmlns="" width="16" height="16" fill="currentColor" class="text-black bi bi-list-ul" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
                  d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
          </svg>
        </button>
        <div class="small-perso">
          <a *ngIf="this.c.isLogged()" class="navbar-brand" href="accueil">
            <img class="logo" src="../../assets/images/logoSlag.png">
          </a>
          <a *ngIf="!this.c.isLogged()" class="navbar-brand" href="connexion">
            <img class="logo" src="../../assets/images/logoSlag.png">
          </a>
        </div>
      </mat-toolbar>
      <div>

      </div>
      <!-- Add Content Here -->
      <ng-content></ng-content>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
